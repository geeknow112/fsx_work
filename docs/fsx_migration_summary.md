# FSx SSD→HDD移行プロジェクト 総合まとめ

## プロジェクト概要

### 目的
- コスト削減（重要度70%）とパフォーマンス維持（重要度30%）のバランス最適化
- Amazon FSx for Windows File Server の SSD から HDD への移行

### 現在の構成
- **ファイルシステムID**: fs-0b2d61a3f2654a9a3 (SV-FILE)
- **容量**: 7.2TB SSD
- **スループット**: 32 MB/s
- **デプロイ**: Multi-AZ
- **月額料金**: 約318,120円
- **使用状況**: スループット使用率0.25%（極めて低い）

## 移行方針の決定経緯

### 検討した選択肢
1. **SSD Single-AZ移行**: 年額削減190万円、性能維持95%
2. **HDD Multi-AZ移行**: 年額削減130万円、性能維持70%
3. **スループット最適化のみ**: 年額削減7万円、性能維持100%

### 最終決定
**HDD Multi-AZ移行**を選択
- **理由**: HDDの承認済み、承認変更の作業コスト回避
- **切り替えオプション**: 問題発生時はSSD Single-AZに変更可能

## 期待される効果

### コスト削減効果
| 項目 | 現在 | 移行後 | 削減額 |
|------|------|--------|--------|
| **ストレージ料金** | 280,800円/月 | 172,800円/月 | 108,000円/月 |
| **バックアップ料金** | 16,200円/月 | 8,100円/月 | 8,100円/月 |
| **スループット最適化** | - | - | 5,940円/月 |
| **月額削減合計** | - | - | **122,040円/月** |
| **年額削減合計** | - | - | **1,464,480円/年** |

### パフォーマンス影響
- **レイテンシ**: 1ms → 3-5ms（3-5倍悪化）
- **IOPS**: 21,600 → 7,200（1/3に低下）
- **スループット**: 32MB/s維持可能
- **可用性**: Multi-AZ維持（影響なし）

## 移行戦略

### データ移行方式
- **オンライン移行**: 既存FSx稼働継続しながら移行
- **並行稼働期間**: 3-5日間（動作確認期間）
- **業務停止時間**: 切り替え時の10-30分のみ

### リスク軽減策
- **切り替えオプション**: HDD→SSD Single-AZ変更可能
- **段階的移行**: 重要データ優先の移行順序
- **バックアップ強化**: 移行前の完全バックアップ

## 一時的追加コスト

### 移行期間中のコスト
- **並行稼働**: 約53,000円（3日間）
- **最終バックアップ**: 約12,600円（7日保持）
- **合計一時コスト**: 約65,600円

### 投資回収期間
- 月額削減: 122,040円
- 投資回収: 約0.5ヶ月で回収

## 次のステップ
1. 移行実施の最終承認取得
2. 作業スケジュール調整（業務時間外実施）
3. 関係者への事前通知
4. 移行作業実施

## 注意事項
- 全てのAWS操作は事前承認必須
- 業務時間外での作業実施
- 段階的実施でリスク最小化
- 各段階での動作確認必須
